(self.webpackChunk=self.webpackChunk||[]).push([[8813],{48643:(e,t,n)=>{n.d(t,{l5:()=>F,EJ:()=>D,T9:()=>S});var o,r=n(59312),i=n(27378),a=n(71249),s=n(40327),u=n(38983),p=n(5739),l=n(93508),c=n(77176),d=n(16118),h=n(32952),f=n(98403),v=n(44586),m=n(76974),_=n(24209),y=n(38062),w=n(50628),b=n(80900),E=n(17343),x=n(60797),C=n(69935),g=n(19751),k=n(5114),P=n(8125),F=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._state=t.props.state.pipe(l.O(void 0),c.U((function(e,t){return{state:e,key:t}})),d.G(),c.U((function(e){var n=e[0],o=e[1],r=t.props.stateToClassMapper(n.state,o.state);return{prev:{key:n.key,state:n.state,view:A(r.prev)},next:{key:o.key,state:o.state,view:A(r.next)}}}))),t._elements=u.h.create(o.empty),t._done=new h.xQ,t._subs=[],t}return(0,r.ZT)(t,e),t.prototype.componentDidMount=function(){var e=this,t=this.props.children;this._subs.push(this._state.pipe(c.U((function(n){var r=n.prev,i=n.next,a=t;return void 0===t?o.empty:[(0,s.pipe)(r.state,k.fromNullable,k.map((function(t){return a({state:t,view:r.view,type:"prev",done:function(){return e._done.next("prev")}})})),k.chain(k.fromNullable),k.map((function(e){return{key:r.key,entry:e}}))),(0,s.pipe)(a({state:i.state,view:i.view,type:"next"}),k.fromNullable,k.map((function(e){return{key:i.key,entry:e}})))]}))).subscribe(f.wW(this._elements)),this._done.subscribe((function(t){"prev"===t&&e._elements.modify((function(e){e[0];var t=e[1];return[k.none,t]})),"next"===t&&e._elements.set(o.empty)})))},t.prototype.componentWillUnmount=function(){this._subs.forEach((function(e){return e.unsubscribe()})),this._subs=[]},t.prototype.render=function(){var e=this.props,t=e.children,n=e.className,o=e.onMount,r=e.onMouseDown;return t?i.createElement(p.F.div,{className:n,mount:o,onMouseDown:r},this._elements.view(a.IX.compact).view((function(e){return e.map((function(e){return i.createElement(i.Fragment,{key:e.key},e.entry)}))}))):null},t}(i.Component),D=function(e){return{start:e,end:e}};function A(e){var t=e.start,n=e.end;return v.y.create((function(e){e.next(t);var o=requestAnimationFrame((function(){return requestAnimationFrame((function(){return e.next(n)}))}));return function(){return cancelAnimationFrame(o)}}))}!function(e){e.empty=[k.none,k.none]}(o||(o={}));var S=function(e){var t=e.content.pipe(c.U((function(t){return{className:e.classes.rendered,el:t,onTransitionEnd:P.Q1}})),c.U(k.some),l.O(k.none),d.G(),c.U((function(t){var n=t[0],o=t[1];return(0,s.pipe)(n,k.fold((function(){return k.map(m.of)(o)}),(function(t){return(0,s.pipe)(o,k.map((function(n){var o=new h.xQ;return _.T(m.of({className:e.classes.removing,el:t.el,onTransitionEnd:function(){return o.next()}}),y.S3(o.pipe(w.P()),b.H(e.timeout)).pipe(E.h(n)))})))})))})),x.oA,C.B(),g.shareReplay({refCount:!0,bufferSize:1}));return i.createElement(p.F.div,{className:t.pipe(c.U((function(e){return e.className}))),onTransitionEnd:t.pipe(c.U((function(e){return e.onTransitionEnd})))},t.pipe(c.U((function(e){return e.el}))))}},33678:(e,t,n)=>{n.d(t,{a:()=>o,A:()=>u});var o,r=n(27378),i=n(88056),a=n(95195),s=n(95574);!function(e){!function(e){e.supportsSVGDominantBaseline="supportsSVGDominantBaseline",e.supportsSetGoalsLoader="supportsSetGoalsLoader",e.onlyTrustedEvents="onlyTrustedEvents"}(e.Flag||(e.Flag={})),e.Context=r.createContext(i.Y.invariantContent("PlatformEnvironment"));var t=function(){this.has=function(){return!1},this.actions={openUrl:function(){return a.F2(void 0)},openPopup:function(){return a.F2(void 0)}}};e.Mock=t}(o||(o={}));var u=function(){function e(){this.actions={openUrl:function(e){return s.vM((function(){throw new Error("Not implemented")}))},openPopup:function(e){return s.vM((function(){throw new Error("Not implemented")}))}}}return e.prototype.has=function(e){throw new Error("Not implemented")},e}()},18813:(e,t,n)=>{n.d(t,{L:()=>R});var o=n(59312),r=n(27378),i=n(40327),a=n(38983),s=n(12187),u=n(5739),p=n(16118),l=n(66310),c=n(80900),d=n(17343),h=n(76974),f=n(95093),v=n(77176),m=n(28043),_=n(2834),y=n(38194),w=n(93508),b=n(598),E=n(2844),x=n(98403),C=n(24713),g=n(50628),k=n(32952),P=n(18208),F=n(19962),D=n(5114),A=n(22232),S=n(8125),T=n(48643),M=n(99094),N=n(33678),U=n(101),H=n(90845),B=n(67992),L=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,o.ZT)(t,e),t}(T.l5),R=function(e){function t(){var n=null!==e&&e.apply(this,arguments)||this;return n._uuid=P.fg(12),n._initialState=!1,n._hovered=a.h.create(n._initialState),n._hidden=a.h.create(!n._initialState),n._listPosState=a.h.create({}),n._dropdownEl=null,n._subs=[],n._viewport=a.h.create(F.UL.empty),n._labelRef=r.createRef(),n.hovered=n._hovered.pipe(p.G(),l.w((function(e){var o=e[0];return e[1]?c.H(n.props.showDelay).pipe(d.h(!0)):o?c.H(void 0===n.props.closeDelay?t.defaultProps.closeDelay:n.props.closeDelay).pipe(d.h(!1)):h.of(!1)})),f.T(t._hoveredForce.pipe(v.U(D.exists((function(e){return e===n._uuid}))))),m.x(),_.b((function(e){return e&&t._hoveredForce.next(D.some(n._uuid))})),_.b((function(e){return e&&n._hidden.set(!1)})),y.B(),w.O(n._initialState)),n._handleClickForAppearanceHover=function(e){var o=e.target;if(!F.pK(o)&&!0!==n.props.dontCloseOnClickInside){var r=!F.q_(o,B.P.list);t._hoveredForce.next(r?D.some(n._uuid):D.none),n._hovered.set(r)}},n._handleMouseEnterForAppearanceHover=function(){n._hovered.set(!0)},n._handleClickForAppearanceClick=function(e,t){t&&!e.isTrusted||n._hovered.modify((function(e){return!e}))},n._handleMouseEnterForAppearanceClick=function(e){var o=e.target;F.q_(o,B.P.list)&&(t._hoveredForce.next(D.some(n._uuid)),n._hovered.set(!0))},n._handleLabelKeyDownForAppearance=function(e){"Enter"!==e.key&&" "!==e.key||(n._hovered.set(!0),e.preventDefault())},n}return(0,o.ZT)(t,e),t.prototype._getHAlign=function(e){switch(e){case"left":case"auto":return{left:"0"};case"right":return{right:"0"};case"center":var t=this._dropdownEl?this._dropdownEl.offsetWidth:0;return{right:"50%",marginRight:"-".concat(t/2,"px")};default:return(0,A.vE)(e)}},t.prototype._getVAlign=function(e){switch(e){case"top":return{bottom:"100%"};case"bottom":case"auto":return{top:"100%"};default:return(0,A.vE)(e)}},t.prototype.calcDropdownPosition=function(){var e=this,t=this.props.align,n=this.props.vAlign;this._listPosState.set((0,o.pi)((0,o.pi)({},this._getHAlign(t)),this._getVAlign(n)));var r="auto"===t,i="auto"===n;(r||i)&&requestAnimationFrame((function(){if(e._dropdownEl){var a=e._viewport.get(),s=e._dropdownEl.getBoundingClientRect();e._listPosState.set((0,o.pi)((0,o.pi)({},e._getHAlign(r?a.right<s.right?"right":"left":t)),e._getVAlign(i?a.bottom<s.bottom?"top":"bottom":n)))}}))},t.prototype.componentDidMount=function(){var e=this;this._subs.push(this.hovered.pipe(_.b((function(t){e.props.onVisibilityChange&&e.props.onVisibilityChange(t)})),b.c((0,i.pipe)(D.fromNullable(this.props.customPosition),D.fold((function(){return h.of(D.none)}),(function(e){var t=e.top,n=e.left;return E.aj(x.Dx(t),x.Dx(n)).pipe(v.U(D.some))}))))).subscribe(D.fold((function(){return e.calcDropdownPosition()}),(function(t){var n=t[0],o=t[1];return e._listPosState.set({top:n,left:o})}))),this.context.pipe(C.j("rect")).subscribe(x.wW(this._viewport))),this.props.forceHide&&this._subs.push(this._hidden.pipe(l.w(x.wX(this.props.forceHide.pipe(g.P())))).subscribe((function(){return e._hidden.set(!0)})))},t.prototype.componentWillUnmount=function(){this._subs.forEach((function(e){return e.unsubscribe()})),this._subs=[]},t.prototype.componentWillReciveProps=function(){this.calcDropdownPosition()},t.prototype.mapStateToClass=function(e,t){var n={start:"",end:""};return t?{prev:n,next:{start:B.P.transparent,end:""}}:{prev:{start:"",end:B.P.transparent},next:n}},t.prototype._behavior=function(e){var t=this;return"mouseClick"===this.props.appearanceBehavior?{onClickCapture:function(n){return t._handleClickForAppearanceClick(n,e)},onMouseEnter:this._handleMouseEnterForAppearanceClick,onMouseLeave:function(){return t._hovered.set(t._initialState)}}:{onClickCapture:this._handleClickForAppearanceHover,onMouseEnter:this._handleMouseEnterForAppearanceHover,onMouseLeave:function(){return t._hovered.set(t._initialState)}}},t.prototype._labelBehavior=function(){return{onKeyDown:this._handleLabelKeyDownForAppearance}},t.prototype._attachDropdownElementBehavior=function(){var e,t=this;null===(e=this._dropdownEl)||void 0===e||e.addEventListener("keydown",(function(e){var n;"Escape"===e.key&&(t._hovered.set(t._initialState),e.preventDefault(),e.stopPropagation(),(null===(n=t._labelRef.current)||void 0===n?void 0:n.firstChild)&&setTimeout((function(){var e,n;return null===(n=null===(e=t._labelRef.current)||void 0===e?void 0:e.firstChild)||void 0===n?void 0:n.focus()}),0))}))},t.prototype._handleDropdownElementMount=function(e){this._dropdownEl=e,this._attachDropdownElementBehavior()},t.prototype.render=function(){var e=this,t=this.props,n=t.label,i=t.theme,a=void 0===i?{}:i;return r.createElement(N.a.Context.Consumer,null,(function(t){return r.createElement(M.f.Context.Consumer,null,(function(i){return r.createElement(M.f.Context.Provider,{value:M.f.withValue(i,{hovered:e._hovered})},r.createElement("div",(0,o.pi)({},(0,s.Sh)(B.P.wrapper,a.dropdownContainer),e._behavior(t.has(N.a.Flag.onlyTrustedEvents))),r.createElement("div",(0,o.pi)({},e._labelBehavior(),{ref:e._labelRef}),n),r.createElement(L,{state:e.hovered,stateToClassMapper:e.mapStateToClass},(function(t){return t.state?r.createElement(u.F.div,null,e._hidden.view((function(n){return r.createElement(V,(0,o.pi)({key:"list",name:e.props.name,onTransitionEnd:"prev"===t.type?function(){return e._hidden.set(!0)}:S.Q1},(0,s.Sh)(a.dropdownList,t.view),{mount:e._handleDropdownElementMount.bind(e),style:e._listPosState,hidden:n}),e.props.children)}))):null}))))}))}))},t.defaultProps={align:"auto",vAlign:"auto",showDelay:500,closeDelay:500,appearanceBehavior:"mouseHover"},t.Delimiter=function(){return r.createElement("div",{className:B.P.delimiter})},t._hoveredForce=new k.xQ,t.contextType=U.l.Context,t}(r.PureComponent),V=function(e){var t=H.P.useElWatcher(),n=t.ref,i=t.onMount;return H.P.useFocusTrap(n),r.createElement(M.f.Context.Consumer,null,(function(t){var n=M.f.emptyWithName("".concat(void 0!==t.name?"".concat(t.name,"/"):"","dropdown-").concat(e.name));return r.createElement(M.f.Context.Provider,{value:n},r.createElement(u.F.div,(0,o.pi)({},(0,s.Sh)(e.className,!0===e.hidden?B.P.hidden:B.P.list),{style:e.style,mount:function(t){i(t),void 0!==e.mount&&e.mount(t)},"data-role":"dropdown-list","data-name":"dropdown-"+e.name,onTransitionEnd:e.onTransitionEnd}),e.children))}))}},67992:(e,t,n)=>{n.d(t,{P:()=>u});var o=n(44060),r=n(89894),i=n(32096),a={position:"absolute",zIndex:i.VN,display:"flex",flexDirection:"column",margin:"".concat(r.ux.rem(.5)," 0"),padding:"".concat(r.ux.rem(.5)," 0"),minWidth:r.ux.percent(100),borderRadius:r.ux.rem(i.Jr),background:o.Il.CoreNeutral0,boxShadow:o.uc.Z200,opacity:1,transition:"opacity .2s"},s={margin:r.ux.rem(.5),height:r.ux.px(1),backgroundColor:o.Il.CoreNeutral20},u={wrapper:r.ux.style({position:"relative"}),list:r.ux.style(a),transparent:r.ux.style({opacity:0}),hidden:r.ux.style({display:"none"}),delimiter:r.ux.style(s)}}}]);